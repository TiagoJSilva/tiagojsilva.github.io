<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Escape From CentOS â€“ Layer9</title>
    


  
  <script defer src="/js/fuse.min.c4bee9a8d44273d6154fe86006923d4131eb2e8069d8897687137c6f37f553e3.js"></script>



<script src="/js/enquire.min.aa37bdcb743826eecdae5c5d177fc7d6552340f1b4378ffaa9c82b2c6111400b.js"></script>

<script defer src="/js/lazysizes.min.5e11d056075a05065b9c0bfec44084a113fc2976c2952ec804dedb61c7662db9.js"></script>

<script defer src="/js/helper/getParents.min.ccd45f158c1b17849307ba913a72beac239c410f2b6e648496a79842da84e55b.js"></script>

<script defer src="/js/helper/fadeinout.min.9fb19682560d5fa5596fffec85da605067c4acc86aad05add4d8fff9d362a446.js"></script>

<script>
  "use strict";

  window.onload = function() {
    
    var languagedir = JSON.parse("\"ltr\"");
    
    var baseurl = JSON.parse("\"https://tiagojsilva.github.io\"");
    
    var permalink = JSON.parse("\"https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/\"");

    
    var toggleSidebarElem = document.getElementById("toggle-sidebar");
    var toggleMenuElem = document.getElementById("toggle-menu");
    var tocBodyElem = document.querySelector('.toc__body');
    var tocLabelElem = document.querySelector('.toc__label');
    var listMainElem = document.getElementById('list-main');
    var listSideElem = document.getElementById('list-side');
    var singleMenuElem = document.getElementById('single-menu');
    var sliderIcons = document.querySelectorAll('.slider__icon');

    toggleSidebarElem ?
      toggleSidebarElem.addEventListener('change', function (e) {
        if (e.target.checked) {
          if (tocBodyElem) {
            fadeIn(tocBodyElem, 200);
          }
          if (tocLabelElem) {
            fadeIn(tocLabelElem, 200);
          }
          if (listMainElem && listSideElem) {
            listMainElem.className = 'm';
            listSideElem.className = 'r';
          }

          sliderIcons && sliderIcons.forEach(function (elem) {
            if (elem.classList.contains('hide')) {
              elem.classList.remove('hide');
            } else {
              elem.classList.add('hide');
            }
          });

        } else {
          if (tocBodyElem) {
            fadeOut(tocBodyElem, 200);
          }
          if (tocLabelElem) {
            fadeOut(tocLabelElem, 200);
          }
          if (listMainElem && listSideElem) {
            listMainElem.className = 'mr';
            listSideElem.className = 'hide';
          }

          sliderIcons && sliderIcons.forEach(function (elem) {
            if (elem.classList.contains('hide')) {
              elem.classList.remove('hide');
            } else {
              elem.classList.add('hide');
            }
          });
        }
      }) : null;

    toggleMenuElem ?
      toggleMenuElem.addEventListener('change', function (e) {
        if (e.target.checked) {
          if (listMainElem && singleMenuElem) {
            listMainElem.className = 'm';
            singleMenuElem.className = 'l';
          }

          sliderIcons && sliderIcons.forEach(function (elem) {
            if (elem.classList.contains('hide')) {
              elem.classList.remove('hide');
            } else {
              elem.classList.add('hide');
            }
          });

        } else {
          if (listMainElem && singleMenuElem) {
            listMainElem.className = 'lm';
            singleMenuElem.className = 'hide';
          }

          sliderIcons && sliderIcons.forEach(function (elem) {
            if (elem.classList.contains('hide')) {
              elem.classList.remove('hide');
            } else {
              elem.classList.add('hide');
            }
          });
        }
      }) : null;
    


    
    var navCollapseBtn = document.getElementById('navCollapseBtn');
    navCollapseBtn ? navCollapseBtn.addEventListener('click', function(e) {
      var navCollapse = document.querySelector('.navbar__collapse');
      
      if (navCollapse) {
        var dataOpen = navCollapse.getAttribute('data-open');

        if (dataOpen === 'true') {
          navCollapse.setAttribute('data-open', 'false');
          navCollapse.style.maxHeight = 0;
        } else {
          navCollapse.setAttribute('data-open', 'true');
          navCollapse.style.maxHeight = navCollapse.scrollHeight + "px";
        }
      }
    }) : null;
    


    
    var expandBtn = document.querySelectorAll('.expand__button');

    for (let i = 0; i < expandBtn.length; i++) {
      expandBtn[i].addEventListener("click", function () {
        var content = this.nextElementSibling;
        if (content.style.maxHeight) {
          content.style.maxHeight = null;
          this.querySelector('svg').classList.add('expand-icon__right');
          this.querySelector('svg').classList.remove('expand-icon__down');
        } else {
          content.style.maxHeight = content.scrollHeight + "px";
          this.querySelector('svg').classList.remove('expand-icon__right');
          this.querySelector('svg').classList.add('expand-icon__down');
        }
      });
    }
    



    
    document.querySelectorAll('.tab') ? 
    document.querySelectorAll('.tab').forEach(function(elem, idx) {
      var containerId = elem.getAttribute('id');
      var containerElem = elem;
      var tabLinks = elem.querySelectorAll('.tab__link');
      var tabContents = elem.querySelectorAll('.tab__content');
      var ids = [];

      tabLinks && tabLinks.length > 0 ?
      tabLinks.forEach(function(link, index, self) {
        link.onclick = function(e) {
          for (var i = 0; i < self.length; i++) {
            if (index === parseInt(i, 10)) {
              if (!self[i].classList.contains('active')) {
                self[i].classList.add('active');
                tabContents[i].style.display = 'block';
              }
            } else {
              self[i].classList.remove('active');
              tabContents[i].style.display = 'none';
            }
          }
        }
      }) : null;
    }) : null;
    


    
    document.querySelectorAll('.codetab') ? 
    document.querySelectorAll('.codetab').forEach(function(elem, idx) {
      var containerId = elem.getAttribute('id');
      var containerElem = elem;
      var codetabLinks = elem.querySelectorAll('.codetab__link');
      var codetabContents = elem.querySelectorAll('.codetab__content');
      var ids = [];

      codetabLinks && codetabLinks.length > 0 ?
      codetabLinks.forEach(function(link, index, self) {
        link.onclick = function(e) {
          for (var i = 0; i < self.length; i++) {
            if (index === parseInt(i, 10)) {
              if (!self[i].classList.contains('active')) {
                self[i].classList.add('active');
                codetabContents[i].style.display = 'block';
              }
            } else {
              self[i].classList.remove('active');
              codetabContents[i].style.display = 'none';
            }
          }
        }
      }) : null;
    }) : null;
    

    
    
    
    var enableDarkMode = JSON.parse("true");
    var root = document.getElementById('root');
    var toggleToLightBtn = document.getElementById('toggleToLight');
    var toggleToDarkBtn = document.getElementById('toggleToDark');

    if (!enableDarkMode) {
      root.className = 'theme__light';
      localStorage.setItem('theme', 'light');
    }
    
    if (toggleToDarkBtn) {
      toggleToDarkBtn.onclick = function (e) {
        root.className = 'theme__dark';
        localStorage.setItem('theme', 'dark');
        toggleToLightBtn.className = 'navbar__icons--icon';
        toggleToDarkBtn.className = 'hide';
      }
    }

    if (toggleToLightBtn) {
      toggleToLightBtn.onclick = function (e) {
        root.className = 'theme__light';
        localStorage.setItem('theme', 'light');
        toggleToLightBtn.className = 'hide';
        toggleToDarkBtn.className = 'navbar__icons--icon';
      }
    }

    
    document.querySelectorAll('.menu__list').forEach(function(elem) {
      if (elem.classList.contains('active')) {
        elem.style.maxHeight = elem.scrollHeight + "px"; 
      }
    });
    
    document.querySelectorAll('.menu__title--collapse').forEach(function(elem) {
      elem.addEventListener('click', function (e) {
        var content = this.nextElementSibling;
        var menuTitleIcon = this.querySelector('.menu__title--icon');
        if (!content) {
          return null;
        }

        var parent = elem.parentNode;
        while (parent.classList.contains('menu__list') && parent.classList.contains('active')) {
          parent.style.maxHeight = 100 * parent.children.length + "px";
          parent = parent.parentNode;
        }

        if (content.style.maxHeight) {
          content.style.maxHeight = null;
          content.classList.remove('active');
          menuTitleIcon.classList.add('right');
          
          if (languagedir === 'rtl') {
            menuTitleIcon.classList.remove('downrtl');
          } else {
            menuTitleIcon.classList.remove('down');
          }
        } else {
          content.style.maxHeight = content.scrollHeight + "px";
          content.classList.add('active');
          menuTitleIcon.classList.remove('right');
          
          if (languagedir === 'rtl') {
            menuTitleIcon.classList.add('downrtl');
          } else {
            menuTitleIcon.classList.add('down');
          }
        }
      });
    });
    


    
    var mobileLogo = document.getElementById('mobileLogo');
    var modal = document.getElementById("myModal");
    var drawer = document.getElementById('myDrawer');
    var drawerCloseBtn = document.querySelector('.drawer__close');

    var openDrawer = function() {
      modal.style.opacity = 1;

      if (languagedir === 'rtl') {
        modal.style.right = 0;
        drawer.style.right = 0;
      } else {
        modal.style.left = 0;
        drawer.style.left = 0;
      }
    }

    var closeDrawer = function() {
      modal.style.opacity = 0;

      if (languagedir === 'rtl') {
        drawer.style.right = '-100%';
      } else {
        drawer.style.left = '-100%';
      }

      
      setTimeout(function () {
        if (languagedir === 'rtl') {
          modal.style.right = '-100%';
        } else {
          modal.style.left = '-100%';
        }
      }, 250);
    }

    mobileLogo.onclick = function () {
      openDrawer();
      localStorage.setItem('isDrawerOpen', 'true');
    }

    modal.onclick = function () {
      closeDrawer();
      localStorage.setItem('isDrawerOpen', 'false');
    }

    drawerCloseBtn.onclick = function () {
      closeDrawer();
      localStorage.setItem('isDrawerOpen', 'false');
    }
  


  
    var lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    var tocElem = document.querySelector('.toc');
    var tableOfContentsElem = tocElem ? tocElem.querySelector('#TableOfContents') : null;
    var singleContentsElem = document.querySelector('.single__contents');
    var dataBGImgs = document.querySelectorAll('div[data-bgimg]');

    
    var tocLevels = JSON.parse("[\"h2\",\"h3\",\"h4\"]");

    if (tocLevels) {
      tocLevels = tocLevels.toString();
    } else {
      tocLevels = "h1, h2, h3, h4, h5, h6";
    }

    
    var isLandingBgImg = JSON.parse("null");
    
    var isHome = JSON.parse("false");

    function setNavbarBG(scrollTop) {
      if (isHome && isLandingBgImg && Object.keys(isLandingBgImg).length) {
        if (isLandingBgImg.height <= scrollTop) {
          dataBGImgs.forEach(function(elem) {
            elem.setAttribute('data-bgimg', 'false');
          });
        } else {
          dataBGImgs.forEach(function (elem) {
            elem.setAttribute('data-bgimg', 'true');
          });
        }
      }
    }
    setNavbarBG(lastScrollTop);

    window.onscroll = function () {
      var st = window.pageYOffset || document.documentElement.scrollTop;
      if (st > lastScrollTop) { 
        singleContentsElem ? 
        singleContentsElem.querySelectorAll(tocLevels.toString()).forEach(function(elem) {
          if (document.documentElement.scrollTop >= elem.offsetTop) {
            if (tableOfContentsElem) {
              var id = elem.getAttribute('id');
              tocElem.querySelectorAll('a').forEach(function (elem) {
                elem.classList.remove('active');
              });
              tocElem.querySelector('a[href="#' + id + '"]') ? 
              tocElem.querySelector('a[href="#' + id + '"]').classList.add('active') : null;
            }
          }
        }) : null;
        setNavbarBG(st);
      } else { 
        singleContentsElem ? 
        singleContentsElem.querySelectorAll(tocLevels.toString()).forEach(function(elem) {
          if (document.documentElement.scrollTop >= elem.offsetTop) {
            if (tableOfContentsElem) {
              var id = elem.getAttribute('id');
              tocElem.querySelectorAll('a').forEach(function (elem) {
                elem.classList.remove('active');
              });
              tocElem.querySelector('a[href="#' + id + '"]') ? 
              tocElem.querySelector('a[href="#' + id + '"]').classList.add('active') : null;
            }
          }
        }) : null;
        setNavbarBG(st);
      }
      lastScrollTop = st <= 0 ? 0 : st;
    };
    



    
    var mobileSearchInputElem = document.querySelector('#search-mobile');
    var mobileSearchClassElem = document.querySelector('.mobile-search');
    var mobileSearchBtnElem = document.querySelector('#mobileSearchBtn');
    var mobileSearchCloseBtnElem = document.querySelector('#search-mobile-close');
    var mobileSearchContainer = document.querySelector('#search-mobile-container');
    var mobileSearchResultsElem = document.querySelector('#search-mobile-results');
    var htmlElem = document.querySelector('html');

    if (mobileSearchClassElem) {
      mobileSearchClassElem.style.display = 'none';
    }

    mobileSearchBtnElem ? 
    mobileSearchBtnElem.addEventListener('click', function () {
      if (mobileSearchContainer) {
        mobileSearchContainer.style.display = 'block';
      }

      if (mobileSearchInputElem) {
        mobileSearchInputElem.focus();
      }

      if (htmlElem) {
        htmlElem.style.overflowY = 'hidden';
      }
    }) : null;

    mobileSearchCloseBtnElem ? 
    mobileSearchCloseBtnElem.addEventListener('click', function() {
      if (mobileSearchContainer) {
        mobileSearchContainer.style.display = 'none';
      }

      if (mobileSearchInputElem) {
        mobileSearchInputElem.value = '';
      }
      
      if (mobileSearchResultsElem) {
        while (mobileSearchResultsElem.firstChild) {
          mobileSearchResultsElem.removeChild(mobileSearchResultsElem.firstChild);
        }
      }

      if (htmlElem) {
        htmlElem.style.overflowY = 'visible';
      }
    }) : null;

    mobileSearchInputElem ? 
    mobileSearchInputElem.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        if (mobileSearchContainer) {
          mobileSearchContainer.style.display = 'none';
        }
        
        if (mobileSearchInputElem) {
          mobileSearchInputElem.value = '';
        }

        if (mobileSearchResultsElem) {
          while (mobileSearchResultsElem.firstChild) {
            mobileSearchResultsElem.removeChild(mobileSearchResultsElem.firstChild);
          }
        }
        if (htmlElem) {
          htmlElem.style.overflowY = 'visible';
        }
      }
    }) : null;
  


  
    var localTheme = localStorage.getItem('theme');
    var rootEleme = document.getElementById('root');
    var selectThemeElem = document.querySelectorAll('.select-theme');
    var selectThemeItemElem = document.querySelectorAll('.select-theme__item');
    
    if (localTheme) {
      selectThemeItemElem ? 
      selectThemeItemElem.forEach(function (elem) {
        if (elem.text.trim() === localTheme) {
          elem.classList.add('is-active');
        } else {
          elem.classList.remove('is-active');
        }
      }) : null;
    }

    selectThemeItemElem ? 
    selectThemeItemElem.forEach(function (v, i) {
      v.addEventListener('click', function (e) {
        var selectedThemeVariant = e.target.text.trim();
        localStorage.setItem('theme', selectedThemeVariant);

        rootEleme.removeAttribute('class');
        rootEleme.classList.add(`theme__${selectedThemeVariant}`);
        selectThemeElem.forEach(function(rootElem) {
          rootElem.querySelectorAll('a').forEach(function (elem) {
            if (elem.classList) {
              if (elem.text.trim() === selectedThemeVariant) {
                if (!elem.classList.contains('is-active')) {
                  elem.classList.add('is-active');
                }
              } else {
                if (elem.classList.contains('is-active')) {
                  elem.classList.remove('is-active');
                }
              }
            }
          });
        });

        if (window.mermaid) {
          if (selectedThemeVariant === "dark" || selectedThemeVariant === "hacker") {
            mermaid.initialize({ theme: 'dark' });
            location.reload();
          } else {
            mermaid.initialize({ theme: 'default' });
            location.reload();
          }
        }

        var utterances = document.querySelector('iframe');
        if (utterances) {
          utterances.contentWindow.postMessage({
            type: 'set-theme',
            theme: selectedThemeVariant === "dark" || selectedThemeVariant === "hacker" ? 'photon-dark' : selectedThemeVariant === 'kimbie' ? 'github-dark-orange' : 'github-light',
          }, 'https://utteranc.es');
        }
      });
    }) : null;
  


  
    
    var langprefix = JSON.parse("\"/en\"");
    var searchResults = null;
    var searchMenu = null;
    var searchText = null;
    
    
    var enableSearchHighlight = JSON.parse("true");
    
    var enableSearch = JSON.parse("true");

    var fuse = null;

    if (enableSearch) {
      (function initFuse() {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', baseurl + langprefix + "/index.json");
        xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
        xhr.onload = function () {
          if (xhr.status === 200) {
            fuse = new Fuse(JSON.parse(xhr.response.toString('utf-8')), {
              keys: ['title', 'description', 'content'],
              includeMatches: enableSearchHighlight,
              should: true,
              threshold: 0.4,
              location: 0,
              distance: 100,
              maxPatternLength: 32,
              minMatchCharLength: 1,
            });
          }
          else {
            console.error(`[${xhr.status}]Error:`, xhr.statusText);
          }
        };
        xhr.send();
      })();
    }
    
    function makeLi(ulElem, obj) {
      var li = document.createElement('li');
      li.className = 'search-result__item';
      
      var a = document.createElement('a');
      a.innerHTML = obj.title;
      a.setAttribute('class', 'search-result__item--title');
      a.setAttribute('href', obj.permalink);

      var descDiv = document.createElement('div');
      descDiv.setAttribute('class', 'search-result__item--desc');
      if (obj.description) {
        descDiv.innerHTML = obj.description;
      } else if (obj.content) {
        descDiv.innerHTML = obj.content.substring(0, 80);
      }
      
      li.appendChild(a);
      li.appendChild(descDiv);
      ulElem.appendChild(li);
    }

    function makeHighlightLi(ulElem, obj) {
      var li = document.createElement('li');
      li.className = 'search-result__item';
      var descDiv = null;

      var a = document.createElement('a');
      a.innerHTML = obj.item.title;
      a.setAttribute('class', 'search-result__item--title');
      a.setAttribute('href', obj.item.uri);

      if (obj.matches && obj.matches.length) {
        for (var i = 0; i < obj.matches.length; i++) {
          if ('title' === obj.matches[i].key) {
            a = document.createElement('a');
            a.innerHTML = generateHighlightedText(obj.matches[i].value, obj.matches[i].indices);
            a.setAttribute('class', 'search-result__item--title');
            a.setAttribute('href', obj.item.uri);
          }
          
          if ('description' === obj.matches[i].key) {
            descDiv = document.createElement('div');
            descDiv.setAttribute('class', 'search-result__item--desc');
            descDiv.innerHTML = generateHighlightedText(obj.item.description, obj.matches[i].indices);
          } else if ('content' === obj.matches[i].key) {
            if (!descDiv) {
              descDiv = document.createElement('div');
              descDiv.setAttribute('class', 'search-result__item--desc');
              descDiv.innerHTML = generateHighlightedText(obj.item.content.substring(0, 80), obj.matches[i].indices);
            }
          } else {
            if (obj.item.description) {
              descDiv = document.createElement('div');
              descDiv.setAttribute('class', 'search-result__item--desc');
              descDiv.innerHTML = obj.item.description;
            } else {
              descDiv = document.createElement('div');
              descDiv.setAttribute('class', 'search-result__item--desc');
              descDiv.innerHTML = obj.item.content.substring(0, 80);
            }
          }
        }

        li.appendChild(a);
        if (descDiv) {
          li.appendChild(descDiv);
        }
        if (li) {
          ulElem.appendChild(li);
        }
      }
    }

    function renderSearchResults(searchText, results) {
      searchResults = document.getElementById('search-results');
      searchMenu = document.getElementById('search-menu');
      searchResults.setAttribute('class', 'dd is-active');
      
      var ul = document.createElement('ul');
      ul.setAttribute('class', 'dd-content search-content');

      if (results.length) {
        results.forEach(function (result) {
          var li = document.createElement('li');
          var a = document.createElement('a');
          a.setAttribute('href', result.uri);
          a.setAttribute('class', 'dd-item');
          a.appendChild(li);

          var titleDiv = document.createElement('div');
          titleDiv.innerHTML = result.title;
          titleDiv.setAttribute('class', 'search-result__item--title');

          var descDiv = document.createElement('div');
          descDiv.setAttribute('class', 'search-result__item--desc');
          if (result.description) {
            descDiv.innerHTML = result.description;
          } else if (result.content) {
            descDiv.innerHTML = result.content.substring(0, 80);
          }

          li.appendChild(titleDiv);
          li.appendChild(descDiv);
          ul.appendChild(a);
        });
      } else {
        var li = document.createElement('li');
        li.setAttribute('class', 'dd-item');
        li.innerText = 'No results found';
        ul.appendChild(li);
      }

      while (searchMenu.hasChildNodes()) {
        searchMenu.removeChild(
          searchMenu.lastChild
        );
      }
      
      searchMenu.appendChild(ul);
    }

    function renderSearchHighlightResults(searchText, results) {
      searchResults = document.getElementById('search-results');
      searchMenu = document.getElementById('search-menu');
      searchResults.setAttribute('class', 'dd is-active');

      var ul = document.createElement('ul');
      ul.setAttribute('class', 'dd-content search-content');

      if (results.length) {
        results.forEach(function (result) {
          var li = document.createElement('li');
          var a = document.createElement('a');
          var descDiv = null;

          a.setAttribute('href', result.item.uri);
          a.setAttribute('class', 'dd-item');
          a.appendChild(li);

          var titleDiv = document.createElement('div');
          titleDiv.innerHTML = result.item.title;
          titleDiv.setAttribute('class', 'search-result__item--title');
          
          if (result.matches && result.matches.length) {
            for (var i = 0; i < result.matches.length; i++) {
              if ('title' === result.matches[i].key) {
                titleDiv.innerHTML = generateHighlightedText(result.matches[i].value, result.matches[i].indices);
              }

              if ('description' === result.matches[i].key) {
                descDiv = document.createElement('div');
                descDiv.setAttribute('class', 'search-result__item--desc');
                descDiv.innerHTML = generateHighlightedText(result.item.description, result.matches[i].indices);
              } else if ('content' === result.matches[i].key) {
                if (!descDiv) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'search-result__item--desc');
                  descDiv.innerHTML = generateHighlightedText(result.item.content.substring(0, 80), result.matches[i].indices);
                }
              } else {
                if (result.item.description) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'search-result__item--desc');
                  descDiv.innerHTML = result.item.description;
                } else {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'search-result__item--desc');
                  descDiv.innerHTML = result.item.content.substring(0, 80);
                }
              }
            }
            
            li.appendChild(titleDiv);
            if (descDiv) {
              li.appendChild(descDiv);
            }
            ul.appendChild(a);
          }
        });
      } else {
        var li = document.createElement('li');
        li.setAttribute('class', 'dd-item');
        li.innerText = 'No results found';
        ul.appendChild(li);
      }

      while (searchMenu.hasChildNodes()) {
        searchMenu.removeChild(
          searchMenu.lastChild
        );
      }
      searchMenu.appendChild(ul);
    }

    function renderSearchResultsMobile(searchText, results) {
      searchResults = document.getElementById('search-mobile-results');

      var content = document.createElement('div');
      content.setAttribute('class', 'mobile-search__content');

      if (results.length > 0) {
        results.forEach(function (result) {
          var item = document.createElement('a');
          item.setAttribute('href', result.uri);
          item.innerHTML = '<div class="mobile-search__item"><div class="mobile-search__item--title">ðŸ“„ ' + result.title + '</div><div class="mobile-search__item--desc">' + (result.description ? result.description : result.content) + '</div></div>';
          content.appendChild(item);
        });
      } else {
        var item = document.createElement('span');
        content.appendChild(item);
      }

      let wrap = document.getElementById('search-mobile-results');
      while (wrap.firstChild) {
        wrap.removeChild(wrap.firstChild)
      }
      searchResults.appendChild(content);      
    }

    function renderSearchHighlightResultsMobile(searchText, results) {
      searchResults = document.getElementById('search-mobile-results');

      var ul = document.createElement('div');
      ul.setAttribute('class', 'mobile-search__content');

      if (results.length) {
        results.forEach(function (result) {
          var li = document.createElement('li');
          var a = document.createElement('a');
          var descDiv = null;

          a.setAttribute('href', result.item.uri);
          a.appendChild(li);
          li.setAttribute('class', 'mobile-search__item');

          var titleDiv = document.createElement('div');
          titleDiv.innerHTML = result.item.title;
          titleDiv.setAttribute('class', 'mobile-search__item--title');
          
          if (result.matches && result.matches.length) {
            for (var i = 0; i < result.matches.length; i++) {
              if ('title' === result.matches[i].key) {
                titleDiv.innerHTML = generateHighlightedText(result.matches[i].value, result.matches[i].indices);
              }

              if ('description' === result.matches[i].key) {
                descDiv = document.createElement('div');
                descDiv.setAttribute('class', 'mobile-search__item--desc');
                descDiv.innerHTML = generateHighlightedText(result.item.description, result.matches[i].indices);
              } else if ('content' === result.matches[i].key) {
                if (!descDiv) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'mobile-search__item--desc');
                  descDiv.innerHTML = generateHighlightedText(result.item.content.substring(0, 150), result.matches[i].indices);
                }
              } else {
                if (result.item.description) {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'mobile-search__item--desc');
                  descDiv.innerHTML = result.item.description;
                } else {
                  descDiv = document.createElement('div');
                  descDiv.setAttribute('class', 'mobile-search__item--desc');
                  descDiv.innerHTML = result.item.content.substring(0, 150);
                }
              }
            }
            
            li.appendChild(titleDiv);
            if (descDiv) {
              li.appendChild(descDiv);
            }
            ul.appendChild(a);
          }
        });
      } else {
        var item = document.createElement('span');
        ul.appendChild(item);
      }

      let wrap = document.getElementById('search-mobile-results');
      while (wrap.firstChild) {
        wrap.removeChild(wrap.firstChild)
      }
      searchResults.appendChild(ul);
    }

    function generateHighlightedText(text, regions) {
      if (!regions) {
        return text;
      }

      var content = '', nextUnhighlightedRegionStartingIndex = 0;

      regions.forEach(function(region) {
        if (region[0] === region[1]) {
          return null;
        }
        
        content += '' +
          text.substring(nextUnhighlightedRegionStartingIndex, region[0]) +
          '<span class="search__highlight">' +
            text.substring(region[0], region[1] + 1) +
          '</span>' +
        '';
        nextUnhighlightedRegionStartingIndex = region[1] + 1;
      });

      content += text.substring(nextUnhighlightedRegionStartingIndex);

      return content;
    };

    var searchElem = document.getElementById('search');
    var searchMobile = document.getElementById('search-mobile');
    var searchResultsContainer = document.getElementById('search-results');

    searchElem ? 
    searchElem.addEventListener('input', function(e) {
      if (!e.target.value | window.innerWidth < 770) {
        searchResultsContainer ? searchResultsContainer.setAttribute('class', 'dd') : null;
        return null;
      }

      searchText = e.target.value;
      var results = fuse.search(e.target.value);

      if (enableSearchHighlight) {
        renderSearchHighlightResults(searchText, results);
      } else {
        renderSearchResults(searchText, results);
      }

      var dropdownItems = searchResultsContainer.querySelectorAll('.dd-item');
      dropdownItems ? dropdownItems.forEach(function (item) {
        item.addEventListener('mousedown', function (e) {
          e.target.click();
        });
      }) : null;
    }) : null;

    searchElem ? 
    searchElem.addEventListener('blur', function() {
      if (window.innerWidth < 770) {
        return null;
      }
      searchResultsContainer ? searchResultsContainer.setAttribute('class', 'dd') : null;
    }) : null;

    searchElem ? 
    searchElem.addEventListener('click', function(e) {
      if (window.innerWidth < 770) {
        return null;
      }
      if (!e.target.value) {
        searchResultsContainer ? searchResultsContainer.setAttribute('class', 'dd') : null;
        return null;
      }

      searchText = e.target.value;
      var results = fuse.search(e.target.value);

      if (enableSearchHighlight) {
        renderSearchHighlightResults(searchText, results);
      } else {
        renderSearchResults(searchText, results);
      }

      var dropdownItems = searchResultsContainer.querySelectorAll('.dd-item');
      dropdownItems ? dropdownItems.forEach(function (item) {
        item.addEventListener('mousedown', function (e) {
          e.target.click();
        });
      }) : null;
    }) : null;

    var searchMenuElem = document.getElementById("search-menu");
    var activeItem = document.querySelector('#search-menu .dd-item.is-active');
    var activeIndex = null;
    var items = null;
    var searchContainerMaxHeight = 350;

    searchElem ? 
    searchElem.addEventListener('keydown', function(e) {
      if (window.innerWidth < 770) {
        return null;
      }

      var items = document.querySelectorAll('#search-menu .dd-item');
      
      if (e.key === 'ArrowDown') {
        if (activeIndex === null) {
          activeIndex = 0;
          items[activeIndex].classList.remove('is-active');
        } else {
          items[activeIndex].classList.remove('is-active');
          activeIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;
        }
        items[activeIndex].classList.add('is-active');

        let overflowedPixel = items[activeIndex].offsetTop + items[activeIndex].clientHeight - searchContainerMaxHeight;
        if (overflowedPixel > 0) {
          document.querySelector(".search-content").scrollTop += items[activeIndex].getBoundingClientRect().height;
        } else if (activeIndex === 0) {
          document.querySelector(".search-content").scrollTop = 0;
        }
      } else if (e.key === 'ArrowUp') {
        if (activeIndex === null) {
          activeIndex = items.length - 1;
          items[activeIndex].classList.remove('is-active');
        } else {
          items[activeIndex].classList.remove('is-active');
          activeIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;
        }
        items[activeIndex].classList.add('is-active');
        
        let overflowedPixel = items[activeIndex].offsetTop + items[activeIndex].clientHeight - searchContainerMaxHeight;
        if (overflowedPixel < 0) {
          document.querySelector(".search-content").scrollTop -= items[activeIndex].getBoundingClientRect().height;
        } else {
          document.querySelector(".search-content").scrollTop = overflowedPixel + items[activeIndex].getBoundingClientRect().height;
        }
      } else if (e.key === 'Enter') {
        var currentItemLink = items[activeIndex].getAttribute('href');
        if (currentItemLink) {
          location.href = currentItemLink;
        }
      } else if (e.key === 'Escape') {
        e.target.value = null;
        if (searchResults) {
          searchResults.classList.remove('is-active');
        }
      }
    }) : null;

    searchMobile ? 
    searchMobile.addEventListener('input', function(e) {
      if (!e.target.value) {
        let wrap = document.getElementById('search-mobile-results');
        while (wrap.firstChild) {
          wrap.removeChild(wrap.firstChild);
        }
        return null;
      }

      searchText = e.target.value;
      var results = fuse.search(e.target.value);
      
      if (enableSearchHighlight) {
        renderSearchHighlightResultsMobile(searchText, results);
      } else {
        renderSearchResultsMobile(searchText, results);
      }

      var dropdownItems = searchResultsContainer.querySelectorAll('.dd-item');
      dropdownItems ? dropdownItems.forEach(function (item) {
        item.addEventListener('mousedown', function (e) {
          e.target.click();
        });
      }) : null;
    }) : null;
  

  
  window.addEventListener("load", addCopyButton);
    function addCopyButton(clipboard) {
        document.querySelectorAll('pre > code').forEach(function(codeBlock) {
            if (codeBlock.className === '') {
                return
            }
            var table = codeBlock.parentNode.parentNode.parentNode.parentNode.parentNode
            var row = table.insertRow(0);
            var cell = row.insertCell();
            cell.className = "lntd"
            var cell = row.insertCell();
            cell.innerHTML = "<BR>"
            var button = document.createElement('button');
            button.className = 'copy-code-button';
            button.type = 'button';
            button.innerText = 'Copy';
            button.addEventListener('click', function() {
                if (navigator.clipboard != undefined) {
                        navigator.clipboard.writeText(codeBlock.innerText).then(function () {
                            console.log('Async: Copying to clipboard was successful!');
                        }, function (err) {
                            console.error('Async: Could not copy text: ', err);
                        });
                    }
                    else if(window.clipboardData) { 
                        window.clipboardData.setData("Text", codeBlock.innerText);
                    }
            });
            cell.appendChild(button)
        });
    }

  }
</script>

<link rel="stylesheet" href="/css/lightbox.css">

    


<link rel="stylesheet" href="/css/main.min.css">


    <meta name="description" content="Out of the frying pan and into the fire" />
<meta name="keywords" content="">
<meta name="created" content="2022-01-24T00:00:00&#43;0000">
<meta name="modified" content="2022-01-24T00:00:00&#43;0000">


<meta property="og:site_name" content="Layer9">
<meta property="og:title" content="Escape From CentOS">
<meta property="og:url" content="https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/">
<meta property="og:type" content="article">

<meta name="generator" content="Hugo 0.83.1" />
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">
<link rel="canonical" href="https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/">
<link rel="manifest" href="/manifest.json">

  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/logo.svg" sizes="any" type="image/svg+xml" />

    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "headline": "Escape From CentOS",
    "datePublished": "2022-01-24T00:00:00Z",
    "dateModified": "2022-01-24T00:00:00Z",
    "url" : "https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/",
    "description": "Out of the frying pan and into the fire",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://tiagojsilva.github.io"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Layer9",
      "url": "https://tiagojsilva.github.io"
    }
  }
</script>

    

</head>


<body id="root" class="theme__light">
    <script>
        var rootElem = document.getElementById('root');
        var themeOptions = JSON.parse("[\"light\",\"dark\"]");
        var localTheme = localStorage.getItem('theme');

        if (localTheme) {
            if (themeOptions && themeOptions.length > 0) {
                themeOptions.includes(localTheme) ? 
                rootElem.className = `theme__${localTheme}` :
                rootElem.className = `theme__${themeOptions[0]}`;
            }
        }
    </script>
    
    <div id="container">
        <div id="myDrawer" class="drawer" style="">
  <div class="drawer__header">
    <a href="/" class="drawer__header--text">
      Layer9
    </a>
    <div class="grow"></div>
    <div class="drawer__close">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg>
    </div>
  </div>

  <div class="drawer__body">
    <div class="menu">
  <h6 class="menu__label">
    
      Escape From CentOS
    
  </h6>
  <ul>
    
    
      
  
  
  
  
  
  
  

  
  
  
  
  
  <li class="menu__title--collapse active" data-depth="0" data-permalink="https://tiagojsilva.github.io/en/unixlike/rpm/">
    <span class="menu__title--collapse-text">
      Linux RPM
    </span>
    <span class="menu__title--icon down">
      
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/></svg>
      
    </span>
  </li>
  <ul class="menu__list active" data-data=/rpm/ data-link=https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/>
    
  </ul>
  

    
      
  
  
  
  
  
  
  

  
  
  
  
  
  <li class="menu__title--collapse " data-depth="0" data-permalink="https://tiagojsilva.github.io/en/unixlike/meme/">
    <span class="menu__title--collapse-text">
      Meme distros
    </span>
    <span class="menu__title--icon right">
      
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/></svg>
      
    </span>
  </li>
  <ul class="menu__list " data-data=/meme/ data-link=https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/>
    
      
        
        
        <li>
          <a href="https://tiagojsilva.github.io/en/unixlike/meme/2021-10-29_tinycorelinux-install/" class="menu__title " data-depth="0">TinyCore Linux - Initial steps</a>
        </li>
      
    
      
        
  
  
  
  
  
  
  

  
  
  
  
  
  <li class="menu__title--collapse " data-depth="1" data-permalink="https://tiagojsilva.github.io/en/unixlike/meme/arch_manjaro/">
    <span class="menu__title--collapse-text">
      Arch &#43; Manjaro
    </span>
    <span class="menu__title--icon right">
      
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/></svg>
      
    </span>
  </li>
  <ul class="menu__list " data-data=/arch_manjaro/ data-link=https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/>
    
      
        
        
        <li>
          <a href="https://tiagojsilva.github.io/en/unixlike/meme/arch_manjaro/2021-12-02_obarun-install/" class="menu__title " data-depth="1">S6-init on Obarun</a>
        </li>
      
    
  </ul>
  

      
    
  </ul>
  

    
      
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  <li class="">
    <a href="https://tiagojsilva.github.io/en/unixlike/musl/"
      class="menu__title ">Musl</a>
  </li>
  

    
      
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  <li class="">
    <a href="https://tiagojsilva.github.io/en/unixlike/dotfiles/"
      class="menu__title ">Dotfiles</a>
  </li>
  

    
  </ul>
</div>



<script>
  var menuTitle = document.querySelectorAll('.menu__title');
  var modal = document.getElementById("myModal");
  var drawer = document.getElementById('myDrawer');

  var closeDrawer = function () {
    setTimeout(function () {
      modal.style.opacity = 0;
      drawer.style.left = '-100%';
      modal.style.left = '-100%';
    }, 250);
  }

  menuTitle ? 
  menuTitle.forEach(function(elem) {
    elem.onclick = function() {
      closeDrawer();
      localStorage.setItem('isDrawerOpen', 'false');
    }
  }) : null;
</script>
  </div>
</div>
<div id="myModal" class="modal" style=""></div>

<script>
  var isDrawerOpen = localStorage.getItem('isDrawerOpen');
  var modal = document.getElementById("myModal");
  var drawer = document.getElementById('myDrawer');
  
  
  var languagedir = JSON.parse("\"ltr\"");

  var openDrawer = function () {
    modal.style.opacity = 1;
    
    if (languagedir === "rtl") {
      modal.style.right = 0;
      drawer.style.right = 0;
    } else {
      modal.style.left = 0;
      drawer.style.left = 0;
    }
  }

  if (isDrawerOpen && isDrawerOpen === 'true') {
    openDrawer();
  }
</script>
        
<nav class="nav">
  <div class="navbar__wrapper" data-bgimg="false">
    <div class="divider">
      <div class="navbar lmr">
        <div id="siteLogo" class="navbar__logo--wrapper">
  
    <a href="/en/" title="" rel="home" class="navbar__logo--link">
      <img src="/logo.png" alt="Home" class="navbar__logo">
    </a>
  
  
    <a href="/en/" title="" rel="home" class="navbar__logo--text-link">
      <h6 class="navbar__logo--text" data-bgimg="false">Layer9</h6>
    </a>
  
</div>
        
        <div class="navbar__menu--wrapper">
          <div id="tabletLogo" class="hide">
  
  <a href="/en/" rel="home" class="navbar__logo--link">
    <img src="/logo.png" alt="Home" class="navbar__logo">
  </a>
  
</div>
          <div id="mobileLogo" class="hide">
  <a href="#" class="navbar__logo--link">
    <div class="navbar__icons--icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"/></svg>
    </div>
  </a>
</div>
          <span id="navMenuMobile" class="hide">
  <button id="navCollapseBtn" class="navbar__dropdown--title" aria-label="Section Menu" data-dir="ltr">
    
      unixlike
    
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"/></svg>
  </button>
  <div class="navbar__collapse" data-open="false">
  <ul>
    

  
  
  
  
  <li class="navbar__menu--mobile-item ">
    <a href="/en/blog" class="">Blog</a>
  </li>

  
  
  
  
  <li class="navbar__menu--mobile-item ">
    <a href="/en/networking" class="">Networking</a>
  </li>

  
  
  
  
  <li class="navbar__menu--mobile-item ">
    <a href="/en/microsoft" class="">Microsoft</a>
  </li>

  
  
  
  
  <li class="navbar__menu--mobile-item active">
    <a href="/en/unixlike" class="active">*nix</a>
  </li>

  
  
  
  
  <li class="navbar__menu--mobile-item ">
    <a href="/en/dev" class="">Dev</a>
  </li>

  
  
  
  
  <li class="navbar__menu--mobile-item ">
    <a href="/en/sec" class="">Security</a>
  </li>

  
  
  
  
  <li class="navbar__menu--mobile-item ">
    <a href="/en/updates" class="">Updates</a>
  </li>

  </ul>
</div>
</span>
          <ul id="navMenu" class="navbar__menu">
            

  
  
  
  
  <li class="navbar__menu--item ">
    <a href="/en/blog" data-bgimg="false">Blog</a>
  </li>

  
  
  
  
  <li class="navbar__menu--item ">
    <a href="/en/networking" data-bgimg="false">Networking</a>
  </li>

  
  
  
  
  <li class="navbar__menu--item ">
    <a href="/en/microsoft" data-bgimg="false">Microsoft</a>
  </li>

  
  
  
  
  <li class="navbar__menu--item active">
    <a href="/en/unixlike" data-bgimg="false">*nix</a>
  </li>

  
  
  
  
  <li class="navbar__menu--item ">
    <a href="/en/dev" data-bgimg="false">Dev</a>
  </li>

  
  
  
  
  <li class="navbar__menu--item ">
    <a href="/en/sec" data-bgimg="false">Security</a>
  </li>

  
  
  
  
  <li class="navbar__menu--item ">
    <a href="/en/updates" data-bgimg="false">Updates</a>
  </li>

          </ul>
        </div>
        <div class="grow"></div>
        <div id="siteSearch">
          

<div class="search" data-bgimg="false">
  <span class="icon">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
  </span>
  <input id="search" aria-label="Site Search" class="input" type="text" autocomplete="off" placeholder="Search">
  <div id="search-results" class="dropdown">
    <div id="search-menu" class="dropdown-menu">
    </div>
  </div>
</div>


        </div>
        <div id="mobileSearch" class="hide">
          
<div id="mobileSearchBtn" class="mobile-search__btn">
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
</div>

<div id="search-mobile-container" class="mobile-search hide">
  <div class="mobile-search__top">
    <input id="search-mobile" type="text" aria-label="Mobile Search" placeholder="Search..." class="mobile-search__top--input"/>
    <div id="search-mobile-close" class="mobile-search__top--icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg>
    </div>
  </div>
  <div id="search-mobile-results" class="mobile-search__body">
    
  </div>
</div>

        </div>
        <div class="navbar__icons">
  
<div class="dropdown">
  <button class="lang__dropdown navbar__icons--icon" aria-label="Select Site Language">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06.03-.03c1.74-1.94 2.98-4.17 3.71-6.53h1.94c.54 0 .99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54 0-.99.45-.99.99 0 .55.45.99.99.99h10.18C11.5 7.92 10.44 9.75 9 11.35c-.81-.89-1.49-1.86-2.06-2.88-.16-.29-.45-.47-.78-.47-.69 0-1.13.75-.79 1.35.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87c-.4.39-.4 1.03 0 1.42.39.39 1.02.39 1.42 0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6 0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26.39 0 .74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61.65 0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
  </button>
  <div class="dropdown-content lang__dropdown--content">
    
    
    
      
      
        
        
          
            
              <a href="https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/" data-lang="en" class="lang__dropdown--item active">English</a>
            
          
        
      
        
      
    
      
      
        
      
        
        
          
            
              <a href="https://tiagojsilva.github.io/pt/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/" data-lang="pt" class="lang__dropdown--item">PortuguÃªs</a>
            
          
        
      
    
  </div>
</div>

  
<button id="toggleToDark" class="navbar__icons--icon" aria-label="Toggle to dark mode">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" /><path fill="currentColor" d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg>
</button>
<button id="toggleToLight" class="navbar__icons--icon" aria-label="Toggle to light mode">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="currentColor" d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></svg>
</button>
<script>
  var theme = localStorage.getItem('theme');
  var toggleToLightBtn = document.getElementById('toggleToLight');
  var toggleToDarkBtn = document.getElementById('toggleToDark');

  if (theme && theme === 'dark') {
    toggleToLightBtn.className = 'navbar__icons--icon';
    toggleToDarkBtn.className = 'hide';
  } else {
    toggleToLightBtn.className = 'hide';
    toggleToDarkBtn.className = 'navbar__icons--icon';
  }
</script>

  <div class="navbar__icons--icon">
    <a href="https://github.com/TiagoJSilva" title="Github repository" aria-label="Github repository" target="_blank" rel="noreferrer">
    <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22"><path d="M10.9,2.1c-4.6,0.5-8.3,4.2-8.8,8.7c-0.5,4.7,2.2,8.9,6.3,10.5C8.7,21.4,9,21.2,9,20.8v-1.6c0,0-0.4,0.1-0.9,0.1 c-1.4,0-2-1.2-2.1-1.9c-0.1-0.4-0.3-0.7-0.6-1C5.1,16.3,5,16.3,5,16.2C5,16,5.3,16,5.4,16c0.6,0,1.1,0.7,1.3,1c0.5,0.8,1.1,1,1.4,1 c0.4,0,0.7-0.1,0.9-0.2c0.1-0.7,0.4-1.4,1-1.8c-2.3-0.5-4-1.8-4-4c0-1.1,0.5-2.2,1.2-3C7.1,8.8,7,8.3,7,7.6c0-0.4,0-0.9,0.2-1.3 C7.2,6.1,7.4,6,7.5,6c0,0,0.1,0,0.1,0C8.1,6.1,9.1,6.4,10,7.3C10.6,7.1,11.3,7,12,7s1.4,0.1,2,0.3c0.9-0.9,2-1.2,2.5-1.3 c0,0,0.1,0,0.1,0c0.2,0,0.3,0.1,0.4,0.3C17,6.7,17,7.2,17,7.6c0,0.8-0.1,1.2-0.2,1.4c0.7,0.8,1.2,1.8,1.2,3c0,2.2-1.7,3.5-4,4 c0.6,0.5,1,1.4,1,2.3v2.6c0,0.3,0.3,0.6,0.7,0.5c3.7-1.5,6.3-5.1,6.3-9.3C22,6.1,16.9,1.4,10.9,2.1z"/></svg>
    </a>
  </div>
</div>


      </div>
    </div>
  </div>
</nav>

<script>
  var siteLogo = document.getElementById('siteLogo');
  var tabletLogo = document.getElementById('tabletLogo');
  var mobileLogo = document.getElementById('mobileLogo');
  var navMenu = document.getElementById('navMenu');
  var navMenuMobile = document.getElementById('navMenuMobile');
  var siteSearch = document.getElementById('siteSearch');
  var mobileSearch = document.getElementById('mobileSearch');
  
  enquire.register("screen and (max-width:1280px)", {
    match: function () {
      siteLogo.className = 'navbar__logo--wrapper';
      tabletLogo.className = 'hide';
      mobileLogo.className = 'hide';
      navMenu.className = 'navbar__menu';
      navMenuMobile.className = 'hide';
      siteSearch.className = '';
      mobileSearch.className = 'hide';
    },
    unmatch: function () {
      siteLogo.className = 'navbar__logo--wrapper';
      tabletLogo.className = 'hide';
      mobileLogo.className = 'hide';
      navMenu.className = 'navbar__menu';
      navMenuMobile.className = 'hide';
      siteSearch.className = '';
      mobileSearch.className = 'hide';
    },
  }).register("screen and (max-width:960px)", {
    match: function () {
      siteLogo.className = 'hide';
      tabletLogo.className = '';
      mobileLogo.className = 'hide';
      navMenu.className = 'navbar__menu';
      navMenuMobile.className = 'hide';
      siteSearch.className = 'hide';
      mobileSearch.className = 'navbar__icons--icon';
    },
    unmatch: function () {
      siteLogo.className = 'navbar__logo--wrapper';
      tabletLogo.className = 'hide';
      mobileLogo.className = 'hide';
      navMenu.className = 'navbar__menu';
      navMenuMobile.className = 'hide';
      siteSearch.className = '';
      mobileSearch.className = 'hide';
    },
  }).register("screen and (max-width:600px)", {
    match: function () {
      siteLogo.className = 'hide';
      tabletLogo.className = 'hide';
      mobileLogo.className = '';
      navMenu.className = 'hide';
      navMenuMobile.className = '';
      siteSearch.className = 'hide';
      mobileSearch.className = 'navbar__icons--icon';
    },
    unmatch: function () {
      siteLogo.className = 'hide';
      tabletLogo.className = '';
      mobileLogo.className = 'hide';
      navMenu.className = 'navbar__menu';
      navMenuMobile.className = 'hide';
      siteSearch.className = 'hide';
      mobileSearch.className = 'navbar__icons--icon';
    },
  });
</script>

        
  <div class="top">
  <div class="header__wrapper bgcolor__header">
    <div class="divider">
      <div class="lmr">
        <h2 class="title">Escape From CentOS</h2>
      </div>
    </div>
  </div>

  <div class="header__wrapper bgcolor__breadcrumb">
    <div class="divider">
      <div class="lmr flexbox">
        
          <nav class="breadcrumb" aria-label="breadcrumbs" data-is-blog="false">
  
  <ol>
    
  
  
  
  
  
  
  
  
  
  <li >
    
      <a href="https://tiagojsilva.github.io/en/" class="capitalize">Layer9</a>
    
  </li>
  
  
  <li >
    
      <a href="https://tiagojsilva.github.io/en/unixlike/" class="capitalize">*nix</a>
    
  </li>
  
  
  <li >
    
      <a href="https://tiagojsilva.github.io/en/unixlike/rpm/" class="capitalize">Linux RPM</a>
    
  </li>
  
  
  <li >
    
      <a href="https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/" class="capitalize">Rocky &#43; AlmaLinux</a>
    
  </li>
  
  
  <li  class="is-active" >
    
      <span>Escape From CentOS</span>
    
  </li>
  
  </ol>
  
</nav>
        
        <div class="grow"></div>
        
  <label class="switch switch__rel">
    
      <input id="toggle-sidebar" aria-label="Toggle Sidebar Visibility" type="checkbox" checked />
      <span class="slider">
        <span class="slider__icon ">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"/></svg>
        </span>
        <span class="slider__icon hide">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>
        </span>
      </span>
    
    
  </label>

        
      </div>
    </div>
  </div>
</div>

        
  

<div class="mid">
  <div class="divider">
    
    <nav id="single-menu" class="l" data-dir="ltr">
      
        <div class="menu">
  <h6 class="menu__label">
    
      Escape From CentOS
    
  </h6>
  <ul>
    
    
      
  
  
  
  
  
  
  

  
  
  
  
  
  <li class="menu__title--collapse active" data-depth="0" data-permalink="https://tiagojsilva.github.io/en/unixlike/rpm/">
    <span class="menu__title--collapse-text">
      Linux RPM
    </span>
    <span class="menu__title--icon down">
      
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/></svg>
      
    </span>
  </li>
  <ul class="menu__list active" data-data=/rpm/ data-link=https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/>
    
  </ul>
  

    
      
  
  
  
  
  
  
  

  
  
  
  
  
  <li class="menu__title--collapse " data-depth="0" data-permalink="https://tiagojsilva.github.io/en/unixlike/meme/">
    <span class="menu__title--collapse-text">
      Meme distros
    </span>
    <span class="menu__title--icon right">
      
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/></svg>
      
    </span>
  </li>
  <ul class="menu__list " data-data=/meme/ data-link=https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/>
    
      
        
        
        <li>
          <a href="https://tiagojsilva.github.io/en/unixlike/meme/2021-10-29_tinycorelinux-install/" class="menu__title " data-depth="0">TinyCore Linux - Initial steps</a>
        </li>
      
    
      
        
  
  
  
  
  
  
  

  
  
  
  
  
  <li class="menu__title--collapse " data-depth="1" data-permalink="https://tiagojsilva.github.io/en/unixlike/meme/arch_manjaro/">
    <span class="menu__title--collapse-text">
      Arch &#43; Manjaro
    </span>
    <span class="menu__title--icon right">
      
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/></svg>
      
    </span>
  </li>
  <ul class="menu__list " data-data=/arch_manjaro/ data-link=https://tiagojsilva.github.io/en/unixlike/rpm/redhat/rocky_almalinux/2022-01-10_escape-from-centos/>
    
      
        
        
        <li>
          <a href="https://tiagojsilva.github.io/en/unixlike/meme/arch_manjaro/2021-12-02_obarun-install/" class="menu__title " data-depth="1">S6-init on Obarun</a>
        </li>
      
    
  </ul>
  

      
    
  </ul>
  

    
      
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  <li class="">
    <a href="https://tiagojsilva.github.io/en/unixlike/musl/"
      class="menu__title ">Musl</a>
  </li>
  

    
      
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  <li class="">
    <a href="https://tiagojsilva.github.io/en/unixlike/dotfiles/"
      class="menu__title ">Dotfiles</a>
  </li>
  

    
  </ul>
</div>


      
    </nav>

    <article id="list-main" class="m" data-dir="ltr">
      <div class="single" data-display="block">
  

  <article class="single__contents" data-dir="ltr">
    




<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image1.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image1.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image1.png"
      
        
        
         />
    </a>
  
  
</figure>


<h2 id="how-we-got-here">How we got here</h2>
<p>The Centos distribution has always been a strange beast: how could it be that the main exclusively paid Linux distribution (<em><strong>Red Hat Enterprise Linux</strong></em>, or <em><strong>RHEL</strong></em>) had a totally free clone?<br />
Therefore, and for reasons I will elaborate below, it did not surprise me that <a href="https://blog.centos.org/2020/12/future-is-centos-stream/" target="_blank">the conditions of use for CentOS have changed</a>, although the method, the time and the way everything was communicated will be a case-study on how-not-to-do&hellip;<br />
I was curious about the two alternatives that immediately presented themselves, <a href="https://rockylinux.org/about" target="_blank">Rocky Linux</a> and <a href="https://almalinux.org" target="_blank">AlmaLinux</a>, so I decided to test the migration of a CentOS 8 system to both, since everything ended up with the <a href="https://www.centos.org/centos-linux-eol/" target="_blank"><em>End-Of-Life</em> of CentOS8 on December 2021</a> instead of 2029 as many people had planned.</p>
<h3 id="fragmentation">Fragmentation?</h3>
<p>As always in the FOSS world, there is never a single answer to a problem - it&rsquo;s a strength, and a weakness. In this case, I believe both projects have their target audiences, which should allow both them to keep going in strength:</p>
<table>
<thead>
<tr>
<th></th>
<th><em><strong>RockyLinux</strong></em></th>
<th><em><strong>AlmaLinux</strong></em></th>
</tr>
</thead>
<tbody>
<tr>
<td><em><strong>Territorial Base</strong></em></td>
<td>USA</td>
<td>Europe</td>
</tr>
<tr>
<td><em><strong>Target markets</strong></em></td>
<td><em>High-Performance Computing</em>, hardware ditributed with binary drivers (looking at you, HPE), former users of Scientific Linux</td>
<td>cPanel, Web servers</td>
</tr>
</tbody>
</table>
<p>We&rsquo;ll see if both survive in the long termâ€¦</p>
<div class="notices info" data-title="Breaking news">
  Another player just sat himself at the table and asked to be dealt in; days after the original publication, SuSE, which already had an RPM-based distribution (SuSE Linux Enterprise, or SLE) and a kernel more-or-less binary compatible with RedHat, announced <a href="https://www.suse.com/products/suse-liberty-linux/">Liberty Linux</a>, which offers an alternative with business-level support and capable of being managed by the same tools that are used to manage a SUSE-based infrastructure (well, but so could RHEL already&hellip;). According to <a href="https://www.theregister.com/2022/01/20/suse_liberty_linux/">The Register</a>, it&rsquo;s of note that Liberty Linux&rsquo;s kernel is the same used by SuSE Linux Enterprise (5.3.x), which is much more recent than what&rsquo;s currently on RHEL 8 (4.18) - so Liberty Linux seems to be a proposal to convince certain types of mixed customers to abandon RedHat once and for all if their systems are compatible with SLE.
</div>
<h2 id="the-test">The test</h2>
<p>For this test, I started from a set of VMs that simulate a typical Windows service network (AD-DC, SMB, printing, Group Policies) based on CentOS8 and Samba (compiled from source).<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image2.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image2.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image2.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<p>The task consists on doing the sidegrade of this server (TJGGS) to both CentOS 8 alternatives, Rocky Linux and AlmaLinux, and test basic functionality.</p>
<h2 id="setting-up">Setting up</h2>
<p>The computers are in the DASILVAT domain and domain users can log on to computers:<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image3.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image3.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image3.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<pre style="font-style: italic; font-size: 0.79rem">

LOGONSERVER=\\TJGGS
USERDNSDOMAIN=DASILVAT.LOCAL
USERDOMAIN=DASILVAT

</pre>
<p>I logged in to the server, called TJGGS, with PuTTY, from the RSAT client.<br />
Out of the box, this server is just I left in June 2020, when I finished the assigment for CINEL where I used this set of VMs.<br />
<pre style="font-style: italic; font-size: 0.79rem">

login as: formando
Authenticating with public key "rsa-key-20200615"
Passphrase for key "rsa-key-20200615":
Last login: Sat Jun 27 20:31:21 2020 from 10.12.140.99
[formando@tjggs ~]$ uname -a
Linux tjggs 4.18.0-147.8.1.el8_1.x86_64 #1 SMP Thu Apr 9 13:49:54 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux

</pre></p>
<p>The first thing we have to do is a general update. And since the repositories haven&rsquo;t been updated for more than a year, we&rsquo;d better use <code>--refresh</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-$:.sh" data-lang="$:.sh">sudo dnf upgrade -y --refresh
</code></pre></td></tr></table>
</div>
</div><pre style="font-style: italic; font-size: 0.79rem">

[...]
Transaction Summary
====================================================================================================================================
Install 22 Packages
Upgrade 518 Packages
[...]

</pre>
<p>After a restart, we went from Centos 8.1 to 8.4:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-$:.sh" data-lang="$:.sh">uname -a
</code></pre></td></tr></table>
</div>
</div><pre style="font-style: italic; font-size: 0.79rem">

Linux tjggs 4.18.0-305.19.1.el8_4.x86_64 #1 SMP Wed Sep 15 15:39:39 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux

</pre>
<p>In the Windows clients there was a warning that credentials needed to be reintroduced; <em>logoff</em>, change of password, and when trying to logon again, I got an error that the computer wasn&rsquo;t registered in the domain.<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image4.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image4.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image4.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<p>Very well, I logged on to Client with the local Administrator and tried first <code>Remove-Computer -Credential DASILVAT\Administrator</code> and then <code>Add-Computer</code>; always  <em>Access is denied</em>.<br />
Then I logged in to TJGGS and checked the logs; sure enough, <code>/var/log/messages</code> had an indication that <em>sysvol</em> had the wrong permissions:<br />
<pre style="font-style: italic; font-size: 0.79rem">

chdir_current_service: vfs_ChDir(/usr/local/samba/var/locks/sysvol) failed: Permission denied. Current token: uid=3000025, gid=3000026, 7 groups: 3000025 3000026 3000035 3000036 3000037 3000006 3000011

</pre></p>
<p>Despite the danger, I broke out the grease scrubber:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-#:.sh" data-lang="#:.sh">samba-tool ntacl sysvolreset
systemctl restart samba-ad-dc
</code></pre></td></tr></table>
</div>
</div><p>Now <code>systemctl status samba-ad-dc</code> showed the service as active and without errors. So when I tried again to logon to the Client computer, I got in, and the user&rsquo;s GPOs were applied.<br />
Solving the same issue on RSAT was a tad more involved; first I had to take the computer out of the domain using the GUI (<em>Computer Preferences</em> as local Administrator), and then I was able to open an Admin PowerShell and use the commands:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-#:.ps" data-lang="#:.ps"><span class="nf">Add-Computer</span> <span class="nf">-Credential</span> <span class="nf">DASILVAT\Administrator</span> <span class="nf">-Domain</span> <span class="nf">DASILVAT</span>
<span class="nf">Restart-Computer</span>
</code></pre></td></tr></table>
</div>
</div><p>However, I began to see another problem in <code>samba-ad-dc</code>&rsquo;s log; maybe because I refreshed the <em>sysvol</em> ACLs, now the error comes from the shares' permissions:<br />
<pre style="font-style: italic; font-size: 0.79rem">

chdir_current_service: vfs_ChDir(/mnt/dumdum/recursos) failed: Permission denied. Current token: uid=3000041, gid=3000026, 7 groups: 3000041 3000026 3000035 3000036 3000037 3000006 3000011

</pre></p>
<p>This token, of course, matches the computer that I just reintroduced into the domain:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-#:.sh" data-lang="#:.sh">wbinfo --sid-to-name <span class="k">$(</span>wbinfo --uid-to-sid 3000041<span class="k">)</span>
</code></pre></td></tr></table>
</div>
</div><pre style="font-style: italic; font-size: 0.79rem">

DASILVAT\WIN7-RSAT$ 1

</pre>
<p>This was fixed by adding the <code>Domain Computers</code> group to the share&rsquo;s permissions (Read was enough)<br />
Now that we have the system more or less stabilized, we can test TJGGS' migration from CentOS8 to Rocky Linux and to AlmaLinux</p>
<h2 id="rocky-linux">Rocky Linux</h2>
<p>Rocky&rsquo;s documentation page for the migration process is at <a href="https://docs.rockylinux.org/guides/migrate2rocky/">https://docs.rockylinux.org/guides/migrate2rocky/</a>, and it&rsquo;s advisable to be logged-on as <code>root</code>.<br />
To avoid the <code>curl &lt;url&gt; -o &lt;script&gt;.sh</code> method, which can be insecure if there is a Man-In-The-Middle attack, start by installing <code>git</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-#:.sh" data-lang="#:.sh">dnf install git -y
</code></pre></td></tr></table>
</div>
</div><pre style="font-style: italic; font-size: 0.79rem">

Last metadata expiration check: 2:05:12 ago on Sun 31 Oct 2021 09:14:58 PM WET.
Package git-2.27.0-1.el8.x86_64 is already installed.
Dependencies resolved.
Nothing to do.
Complete!

</pre>
<p>Download the migration scripts from the repo and run the migration script:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-#:.sh" data-lang="#:.sh">git clone https://github.com/rocky-linux/rocky-tools.git
chmod u+x ./rocky-tools/migrate2rocky/migrate2rocky.sh
./rocky-tools/migrate2rocky/migrate2rocky.sh -r
</code></pre></td></tr></table>
</div>
</div><pre style="font-style: italic; font-size: 0.79rem">

[...]
Done, please reboot your system.
A log of this installation can be found at /var/log/migrate2rocky.log

</pre>
<p>After restarting, GRUB has an entry for &ldquo;Rocky Linux&rdquo;:<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image5.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image5.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image5.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<p><code>hostnamectl</code>&rsquo;s output is:<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image6.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image6.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image6.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<p>A pre-existing user can still log on to the domain:<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image7.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image7.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image7.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<p>Using RSAT, I created a new user with the same characteristics and the same set of GPOs:<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image8.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image8.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image8.png"
      
        
        
         />
    </a>
  
  
</figure>

<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image9.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image9.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image9.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<p>The new user also logged in and the same settings were applied, except for the shared printer which is a very brittle configuration in Samba; however, the correct wallpaper (specified by GPO from a network share) was loaded, so that wasn&rsquo;t affected by any issues with permissions in the domain&rsquo;s shares.<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image10.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image10.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image10.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<h2 id="almalinux">AlmaLinux</h2>
<p>To keep the test even, a second clone of TJGGS was used, still on CentOS but with the Samba issues solved (at least, those I noticed)<br />
AlmaLinux&rsquo;s migration process isn&rsquo;t as well documented as Rocky&rsquo;s; instead of an explanatory page, the <em><strong>Migrate</strong></em> button at <a href="https://almalinux.org">https://almalinux.org</a> links directly to the migration scripton the Github repository, where the documentation of the process left to the <code>README</code>. Not ideal.<br />
On the other hand, it&rsquo;s not proposed to locally clone the repository, and the only suggestion is downloading the script with <code>curl</code>. <strong>Even less ideal, and plainly insecure.</strong><br />
So, let&rsquo;s repeat the safer process, as we did for Rocky.<br />
Open a <em>root shell</em> e clone the repo:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-#:.sh" data-lang="#:.sh">git clone https://github.com/AlmaLinux/almalinux-deploy.git
chmod u+x ./almalinux-deploy/almalinux-deploy.sh
./almalinux-deploy/almalinux-deploy.sh
</code></pre></td></tr></table>
</div>
</div><pre style="font-style: italic; font-size: 0.79rem">

Check root privileges OK
Check centos-8.x86_64 is supported OK
Download RPM-GPG-KEY-AlmaLinux OK
Import RPM-GPG-KEY-AlmaLinux to RPM DB OK
Download almalinux-release package OK
Verify almalinux-release package OK
Your OS is supported OK
Remove OS specific rpm packages OK
[...]
All Secure Boot related packages which were released by not AlmaLinux are reinstalledOK
Migration to AlmaLinux is completed

</pre>
<p>And restart the TJGGS server<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image11.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image11.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image11.png"
      
        
        
         />
    </a>
  
  
</figure>

<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image12.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image12.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image12.png"
      
        
        
         />
    </a>
  
  
</figure>

<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image13.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image13.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image13.png"
      
        
        
         />
    </a>
  
  
</figure>

<br />
Again, I created a new user with RSAT, now on the <em>Active Directory</em> of the AlmaLinux-migrated server.<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image14.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image14.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image14.png"
      
        
        
         />
    </a>
  
  
</figure>

<br />
This new user also logged in to the domain from the client computer, with the GPOs applied correctly (minus the printer):<br />





<figure
  
  
  
  >
    <a 
      
        data-lightbox="image-/images/unixlike/2022-01-10_escape-from-centos/media/image15.png"
      
      
        href="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image15.png"
      
    
    >
  <img
      
        src="https://tiagojsilva.github.io/images/unixlike/2022-01-10_escape-from-centos/media/image15.png"
      
        
        
         />
    </a>
  
  
</figure>

</p>
<h2 id="final-thoughts">Final thoughts</h2>
<p>As promised, both Rocky Linux and AlmaLinux were able to make the sidegrade of a Centos8 server with some services (<em>samba-ad-dc, chrony, mdm RAIDs, SSHd</em>) without major issues.<br />
The initial problems with permissions were certainly caused by me during the initial configuration of the server, because I remember that I had problems with the permissions of the <em>sysvol</em> which prevented some GPOs from working properly; basically the problem went on for this long (but no more, hopefully).</p>
<h2 id="editorial">Editorial</h2>
<p>The <em>Free and Open Source</em> world has always experienced a problem caused by &ldquo;Free as in Freedom&rdquo; and &ldquo;Free as in Beer&rdquo;. And if Being Free has a relative value for a lot of people, Being For Free is a much larger attractive and it can be measured directly, so the FOSS world, at least in its early years, did little to stress that of the two possibilities, <strong>Freedom</strong> is FOSS&rsquo;s main objective.<br />
Obviously <em><strong>nothing is &ldquo;for free&rdquo;</strong></em> (free lunches and all that), everything has a cost and if we aren&rsquo;t paying, someone else is paying for us, whether in human effort, CPU cycles, storage, connectivity, energy, hardwareâ€¦ So when FOSS projects reach some maturity and market position, they try to entice users to contribute something (anything!) that benefits the project directly, more than mere disclosure and promotion.<br />
In this way, the companies behind many FOSS projects sell services and support, but are also closing certain conveniences behind these contracts, to instill users to pay <em>money</em> for the FOSS product. These extra conveniences (beyond simple support) usually are:</p>
<ul>
<li><em><strong>Limited functionality</strong></em>: certain functions which add value in an enterprise setting are developed on a non-FOSS model and are only unlocked against payment of a license or purchase of packaged hardware
<ul>
<li>OPNsense, among others; notably, almost all providers of ZFS-based storage appliances (like TrueNAS) lock clustering and High-Availability behind the purchase of hardware bundled with the FOSS software.</li>
</ul>
</li>
<li><em><strong>Access to updates</strong></em>: only the binaries of version x.0.0 are publicly available, and any updates in the form of pre-compiled binaries are only available for users with a Support Agreement; however, usually the FOSS license used mandates acess to all source code, which allows anyone that is up to it to try to compile the update.
<ul>
<li>Bareos, OPNsense work like this</li>
</ul>
</li>
<li><em><strong>Access to stable versions</strong></em>: as a complete reversal of the previous option, only the nightly build of the actual state of the development process is made publicly available, without any type of functionality tests (except the assurance that the build didn&rsquo;t break); in this case, to get a stable(r) version it&rsquo;s safer to get the source for the nightly of the <strong>previous major version</strong>, which will be better tested and whose updates should be just bug fixes - but even then, without any testing for regressions.
<ul>
<li>VyOS</li>
</ul>
</li>
</ul>
<p>RedHat decided to use a variant of this last option: instead of only making the CentOS nightlies available, which they knew was too much (and they already had Fedora Rawhide for that), they decided that CentOS would be accessible only as the development branch of the next <em>minor version</em> of RHEL</p>
<ul>
<li>Instead of  CentOS version 8.4 being released <em><strong>after</strong></em> RHEL 8.4, while RHEL is at 8.4 CentOS Stream will be testing the <em><strong>next version</strong></em> 8.5; and only when CentOS Stream 8.5 is found to be stable it will be converted into RHEL 8.5 and jumps to testing the corrections slated for 8.6.</li>
<li>Even better, whoever wants to test the features of RHEL 9, can already try to install CentOS Stream 9&hellip; <br />
In this way, users of CentOS will be contributing with testing (and hopefully bug reports), therefore paying <em>something</em> for their use of code developed and packaged by RedHat.</li>
</ul>

  </article>
</div>
      

      
  
    <div id="utterances"></div>
<noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    try {
      
      var owner = JSON.parse("\"TiagoJSilva\"");
      
      var repo = JSON.parse("\"hugo-site-utterances\"");
      
      var baseTheme = JSON.parse("\"light\"");
      var localTheme = localStorage.getItem('theme');
      var currentTheme = localTheme || baseTheme;
      var utterTheme = currentTheme === "dark" ? 'photon-dark' : 'github-light'

      var myScript = document.createElement('script');
      myScript.setAttribute('src', 'https://utteranc.es/client.js');
      myScript.setAttribute('repo', `${owner}/${repo}`);
      myScript.setAttribute('issue-term', 'pathname');
      myScript.setAttribute('theme', utterTheme);
      myScript.setAttribute('crossorigin', 'anonymous');
      myScript.setAttribute('async', '');

      myScript.onload = function() {
      }

      document.getElementById('utterances').appendChild(myScript);
    } catch (err) {
      console.log(err);
    }
  });
</script>

  

    </article>
    
    <section id="list-side" class="r" data-dir="ltr">
      
        <div class="toc">
  <h6 class="toc__label">What&#39;s on this Page</h6>
  <div class="toc__body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#how-we-got-here">How we got here</a>
      <ul>
        <li><a href="#fragmentation">Fragmentation?</a></li>
      </ul>
    </li>
    <li><a href="#the-test">The test</a></li>
    <li><a href="#setting-up">Setting up</a></li>
    <li><a href="#rocky-linux">Rocky Linux</a></li>
    <li><a href="#almalinux">AlmaLinux</a></li>
    <li><a href="#final-thoughts">Final thoughts</a></li>
    <li><a href="#editorial">Editorial</a></li>
  </ul>
</nav>
  </div>
</div>
      
    </section>

  </div>
</div>

<script>
  'use strict';
  
  function wrap(el, wrapper) {
    el.parentNode.insertBefore(wrapper, el);
    wrapper.appendChild(el);
  }

  (function () {
    var singleContentsElem = document.querySelector('.single__contents');
    singleContentsElem ? 
    singleContentsElem.querySelectorAll('pre > code').forEach(function(elem) {
      var dataLang = elem.getAttribute('data-lang');
      var dataLangWrapper = document.createElement('div');
      var code = null;
      var codeTitle = null;

      if (dataLang && dataLang.includes(':')) {
        code = dataLang.split(':')[0];
        codeTitle = dataLang.split(':')[1];

        dataLangWrapper.className = 'language-' + code;
        dataLangWrapper.setAttribute('data-lang', codeTitle);

        elem.className = 'language-' + code;
        elem.setAttribute('data-lang', codeTitle);
        elem.setAttribute('id', codeTitle);
      }

      if (!dataLang || codeTitle) {
        wrap(elem.parentNode, dataLangWrapper);
      }

    }) : null;
  })();
  


  
  
  var dollarCodeElem = document.querySelectorAll('div.language-\\$');
  var gtCodeElem = document.querySelectorAll('div.language-\\>');
  
  dollarCodeElem ?
  dollarCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = '$<br/>';
    }) : null;
  }) : null;

  gtCodeElem ?
  gtCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = '><br/>';
    }) : null;
  }) : null;

  var hashCodeElem = document.querySelectorAll('div.language-\\#');
  hashCodeElem ?
  hashCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = '#<br/>';
    }) : null;
  }) : null;

  var psCodeElem = document.querySelectorAll('div.language-\\ps');
  psCodeElem ?
  psCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = 'PS><br/>';
    }) : null;
  }) : null;

    var psadmCodeElem = document.querySelectorAll('div.language-\\psa');
  psadmCodeElem ?
  psadmCodeElem.forEach(function(elem) {
    var lnts = elem.parentNode.parentNode ? elem.parentNode.parentNode.querySelectorAll('.lnt') : null;
    lnts ? 
    lnts.forEach(function(lnt) {
      lnt.innerHTML = 'PS#<br/>';
    }) : null;
  }) : null;





(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "COPY";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn";
    copyBtn.textContent = "COPY";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();

        flashCopyMessage(copyBtn, 'Copied!')
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
        }
      });
      containerEl.appendChild(copyBtn);
  }
 
  function addCopyCodeButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "code-copy-btn";
    copyBtn.textContent = "COPY";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();

        flashCopyMessage(copyBtn, 'Copied!')
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
        }
       });

      containerEl.appendChild(copyBtn);
    }
  
  var codeBlocks = document.querySelectorAll('pre > code');
  for (var i = 0; i < codeBlocks.length; i++) {
     var highlightBlocks = codeBlocks[i].firstElementChild;
    if (highlightBlocks != null) {
        i++;
        addCopyButton(codeBlocks[i].parentNode.parentNode);
    } else { 
      addCopyCodeButton(codeBlocks[i].parentNode.parentNode);
    }
  }
  

})();

</script>





<script defer src="/js/helper/getParents.min.js"></script>

<script defer src="/js/helper/closest.min.js"></script>

<script defer src="/js/helper/prev.min.js"></script>

<script defer src="/js/helper/prop.min.js"></script>

<script defer src="/js/helper/fadeinout.min.js"></script>












<script>
  document.addEventListener('DOMContentLoaded', function () {
    'use strict';
    
    
    var tables = document.querySelectorAll('.single__contents > table');
    for (let i = 0; i < tables.length; i++) {
      var table = tables[i];
      var wrapper = document.createElement('div');
      wrapper.className = 'table-wrapper';
      table.parentElement.replaceChild(wrapper, table);
      wrapper.appendChild(table);
    }
    


    
    
    
    var lib = JSON.parse("null");

    if (lib && lib.includes('mermaid')) {
      var themeVariant = localStorage.getItem('theme') || 'light';

      if (themeVariant === "dark") {
        mermaid.initialize({ theme: 'dark' });
      } else {
        mermaid.initialize({ theme: 'default' });
      }
      
      var mermaids = [];
      [].push.apply(mermaids, document.getElementsByClassName('language-mermaid'));
      mermaids.forEach(function(elem) {
        var elemParentNode = elem.parentNode;

        if (elemParentNode !== document.body) {
          elemParentNode.parentNode.insertBefore(elem, elemParentNode);
          elemParentNode.parentNode.removeChild(elemParentNode);
        }

        var newElemWrapper = document.createElement('div');
        newElemWrapper.classList.add('mermaid');
        newElemWrapper.innerHTML = elem.innerHTML;
        elem.replaceWith(newElemWrapper);
      });
    }
    
    

    
    if (lib && lib.includes('katex')) {
      var mathElements = document.getElementsByClassName('math');
      var options = {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "\\[", right: "\\]", display: true },
          { left: "$", right: "$", display: false },
          { left: "\\(", right: "\\)", display: false }
        ],
      };

      renderMathInElement(document.querySelector('.single__contents'), options);
    }
    


    
    if (lib && lib.includes('flowchartjs')) {
      
      var options = JSON.parse("{\"arrow-end\":\"block\",\"element-color\":\"black\",\"fill\":\"white\",\"flowstate\":{\"approved\":{\"fill\":\"#58C4A3\",\"font-size\":12,\"no-text\":\"n/a\",\"yes-text\":\"APPROVED\"},\"current\":{\"fill\":\"yellow\",\"font-color\":\"red\",\"font-weight\":\"bold\"},\"future\":{\"fill\":\"#FFFF99\"},\"invalid\":{\"fill\":\"#444444\"},\"past\":{\"fill\":\"#CCCCCC\",\"font-size\":12},\"rejected\":{\"fill\":\"#C45879\",\"font-size\":12,\"no-text\":\"REJECTED\",\"yes-text\":\"n/a\"},\"request\":{\"fill\":\"blue\"}},\"font-color\":\"black\",\"font-size\":14,\"line-color\":\"black\",\"line-length\":50,\"line-width\":3,\"no-text\":\"no\",\"scale\":1,\"symbols\":{\"end\":{\"class\":\"end-element\"},\"start\":{\"element-color\":\"green\",\"fill\":\"yellow\",\"font-color\":\"red\"}},\"text-margin\":10,\"x\":0,\"y\":0,\"yes-text\":\"yes\"}");
      var jsonContent = null;

      var flowchartPrefix = "language-flowchart";
      var index = 0;
      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + flowchartPrefix + "]"), function(x){
          x.style.display = 'none'
          x.parentNode.style.backgroundColor = "transparent"
          jsonContent = x.innerText;

          var node0 = document.createElement('div');
          node0.id = 'flowchart' + index;
          x.parentNode.insertBefore(node0, x);

          var diagram = flowchart.parse(jsonContent);
          diagram.drawSVG("flowchart"+index, options);

          index +=1;
      });      
    }
    


    
    if (lib && lib.includes('chart')) {
      var borderColor = "#666";
      var bgColor = "#ddd";
      var borderWidth = 2;

      Chart.defaults.global.elements.rectangle.borderWidth = borderWidth;
      Chart.defaults.global.elements.rectangle.borderColor = borderColor;
      Chart.defaults.global.elements.rectangle.backgroundColor = bgColor;

      Chart.defaults.global.elements.line.borderWidth = borderWidth;
      Chart.defaults.global.elements.line.borderColor = borderColor;
      Chart.defaults.global.elements.line.backgroundColor = bgColor;

      Chart.defaults.global.elements.point.borderWidth = borderWidth;
      Chart.defaults.global.elements.point.borderColor = borderColor;
      Chart.defaults.global.elements.point.backgroundColor = bgColor;

      var chartPrefix = "language-chart";
      var index = 0;
      var jsonContent = null;

      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + chartPrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        jsonContent = x.innerText;
        var node0 = document.createElement('canvas');
        var source = null;
        node0.height = 200;
        node0.style.height = 200;
        node0.id = 'myChart' + index;
        source = JSON.parse(jsonContent);
        x.parentNode.insertBefore(node0, x);
        var ctx = document.getElementById('myChart' + index).getContext('2d');
        var myChart = new Chart(ctx, source);
        index += 1;
      });            
    }
    


    
    if (lib && lib.includes('viz')) {
      var vizPrefix = "language-viz-";
      Array.prototype.forEach.call(document.querySelectorAll("[class^=" + vizPrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        var engine;
        x.getAttribute("class").split(" ").forEach(function (cls) {
          if (cls.startsWith(vizPrefix)) {
            engine = cls.substr(vizPrefix.length);
          }
        });
        var viz = new Viz();
        viz.renderSVGElement(x.innerText, { engine: engine })
          .then(function (element) {
            element.style.width = "100%";
            x.parentNode.insertBefore(element, x);
          })
      });
    }
    
  
});


</script>

<script>
  var listSide = document.getElementById('list-side');
  var listMain = document.getElementById('list-main');
  var singleMenu = document.getElementById('single-menu');
  var switchElem = document.querySelector('.switch');
  var wideViewAsDefault = JSON.parse("null");
  
  enquire.register("screen and (max-width:1280px)", {
    match: function () {
      if (wideViewAsDefault) {
        singleMenu.className = 'l';  
        listMain.className = 'mr';
        listSide.className = 'hide';
      } else {
        singleMenu.className = 'l';
        listMain.className = 'm';
        listSide.className = 'r';
      }
    },
    unmatch: function () {
      if (wideViewAsDefault) {
        singleMenu.className = 'l';
        listMain.className = 'mr';
        listSide.className = 'hide';
      } else {
        listSide.className = 'r';
        listMain.className = 'm';
        singleMenu.className = 'l';
      }
    },
  }).register("screen and (max-width:960px)", {
    match: function () {
      singleMenu.className = 'l';
      listMain.className = 'mr';
      listSide.className = 'hide';
      switchElem.className = 'hide';
    },
    unmatch: function () {
      if (wideViewAsDefault) {
        singleMenu.className = 'l';
        listMain.className = 'mr';
        listSide.className = 'hide';
      } else {
        singleMenu.className = 'l';
        listMain.className = 'm';
        listSide.className = 'r';
      }
      switchElem.className = 'switch';
    },
  }).register("screen and (max-width:600px)", {
    match: function () {
      listSide.className = 'hide';
      listMain.className = 'lmr';
      singleMenu.className = 'hide';
      switchElem.className = 'hide';
    },
    unmatch: function () {
      listSide.className = 'hide';
      listMain.className = 'mr';
      singleMenu.className = 'l';
      switchElem.className = 'hide';
    },
  });
</script>

        
<div class="bot">
  <footer class="footer">
    <div class="divider">
      <div class="lmr">
        
          <p class="caption">
            Â©2022, All Rights Reserved
          </p>
          
              <p class="caption">Powered by <a href="https://gohugo.io/" rel="noreferrer">Hugo</a> and the <a href="https://github.com/zzossig/hugo-theme-zdoc" rel="noreferrer">zDoc theme</a></p>
          
        
      </div>
    </div>
  </footer>
</div>

    </div>


	<script src="https://code.jquery.com/jquery-3.4.1.min.js" 
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" 
        crossorigin="anonymous">
    </script>
    <script src="/js/lightbox.js"></script>
    <link rel="stylesheet" href="/css/lightbox.css">

</body>

</html>